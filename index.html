<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>KarthickOS</title>
  <link rel="icon" type="image/x-icon" href="https://e2009.s3.us-west-1.amazonaws.com/pfp(SS)-2.png">
  <link href="style.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <style>
    #map {
      height: 400px;
    }
  </style>

</head>

<body
  style="height: 100vh; width: 100vw; display: flex; align-items: center; justify-content: center; font-family: Helvetica, Arial, sans-serif; margin: 0; background-image: url('https://e2009.s3.us-west-1.amazonaws.com/Untitled+Jan+03+2024.png');">
  <!--<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden;">
    <video id="videoElement" autoplay muted loop
      style="position: absolute; top: 0; opacity: 0.5; left: 0; display: none; width: 100%; filter: brightness(100%) blur(4px) contrast(90%); height: 100%; z-index: -1; object-fit: cover;">
      <source src="https://cloud-5si8ado6s-hack-club-bot.vercel.app/0capybara_showering_like_a_boss_-_luxury_shower.mp4"
        type="video/mp4">
    </video>
  </div>-->
  <div style="position: absolute; width: 100%; top: 0; display: flex; justify-content: space-between; z-index: 2000; align-items: center; background-color: #00000030; color: #fff
    ; margin: 0; background-color: rgba(255, 255, 255, 0.1); backdrop-filter: blur(2px); pointer-events: none;">
    <p style="margin-left: 16px; font-weight: 600; color: #000000;">KarthickOS</p>
    <p style="background-color: rgba(255, 255, 255, 0.1); backdrop-filter: blur(75px); font-weight: 600; color: #cfb780; border-radius: 65px; height: 80%; width: 20%; align-content: center; align-items: center; vertical-align: middle; display: flex; justify-content: center; align-self: center;">‚õÖÔ∏è Always Happily Hacking üßëüèæ‚Äçüíª</p>
    <div style="display: flex; flex-direction: row; align-items: center; color: #000000;">
      <!--<p style="pointer-events: auto; cursor: pointer; padding: 4px 12px; background-color: rgba(255, 255, 255, 0.1); pointer; box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.0); border: 1px solid transparent; transition: box-shadow 0.3s ease; border-radius: 16px;" style="margin-left: 16px;> ‚õÖÔ∏è Always Happy Hacking</p>
        <p onclick="toggleMusic()"
        style="pointer-events: auto; cursor: pointer; padding: 4px 12px; background-color: rgba(255, 255, 255, 0.1); pointer; box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.0); border: 1px solid transparent; transition: box-shadow 0.3s ease; border-radius: 16px;"
        id="musicToggle" onmouseover="this.style.boxShadow = 'inset 0 0 0 1px rgba(255, 255, 255, 0.5)'"
        onmouseout="this.style.boxShadow = 'none'">
        Play Music
      </p>-->
      <p id="time" style="margin-right: 16px; margin-left: 16px">Time</p>
    </div>

  </div>
  <div id="winowApplications"
    style="height: calc(100% - 128px); width: 100%; z-index: 1; display: flex; padding: 16px; flex-direction: column;">
    <div id="contactIcon" onclick="openIcon('contact')"
      style="cursor: pointer; align-items: center; border-radius: 8px; width: fit-content; padding: 8px; display: flex; flex-direction: column;">
      <img style="height: 64px; width: 64px;  border-radius: 16px; margin: 0px"
        src="https://e2009.s3.us-west-1.amazonaws.com/icons+bg/Messages+icon+removebg.png" />
      <p style="margin: 0px; font-size: 12px; margin-top: 4px; font-weight: 500; color: #000000">Contact</p>
    </div>
    <div id="aboutMeIcon" onclick="openIcon('aboutMe')"
      style="cursor: pointer; align-items: center; border-radius: 8px; width: fit-content; padding: 8px; display: flex; flex-direction: column;">
      <img style="height: 64px; width: 64px;  border-radius: 16px; margin: 0px"
        src="https://e2009.s3.us-west-1.amazonaws.com/TextEdit+Icon+Background+Removed.png" />
      <p style="margin: 0px; font-size: 12px; margin-top: 4px; font-weight: 500; color: #000000">aboutMe.txt</p>
    </div>

    <div id="projectsIcon" onclick="openIcon('projects')"
      style="cursor: pointer; align-items: center; border-radius: 8px; width: fit-content; padding: 8px; display: flex; flex-direction: column;">
      <img style="height: 64px; width: 64px;  border-radius: 16px; margin: 0px"
        src="https://e2009.s3.us-west-1.amazonaws.com/fileicon.png" />
      <p style="margin: 0px; font-size: 12px; margin-top: 4px; font-weight: 500; color: #000000">Projects</p>
    </div>
    <div id="mapsIcon" onclick="openIcon('maps')"
      style="cursor: pointer; align-items: center; border-radius: 8px; width: fit-content; padding: 8px; display: flex; flex-direction: column;">
      <img style="height: 64px; width: 64px;  border-radius: 16px; margin: 0px"
        src="https://e2009.s3.us-west-1.amazonaws.com/icons+bg/Apple+Maps+Logo.png" />
      <p style="margin: 0px; font-size: 12px; margin-top: 4px; font-weight: 500; color: #000000">Maps</p>
    </div>
  </div>
  <!-- #start template -->
  <!-- <div id="projects" onclick="tapWindow(document.getElementById('projects'))"
    style="align-items: center; border: 1px solid black; border-radius: 16px; background-color: #fff; width: 500px; position: absolute; justify-content: center; flex-direction: column; display: none">
    <div id="projectshandle"
      style="display: flex; align-items: center; background-color: #F6F6F6; border-radius: 16px 16px 0px 0px; justify-content: space-between; width: 100%">
      <div onclick="closeElement(document.getElementById('projects'))"
        style="cursor: pointer; height: 16px; width: 16px; background-color: red; border-radius: 16px; margin-left: 16px">
      </div>
      <p>Template</p>
      <div style="height: 16px; width: 16px; border-radius: 16px; margin-right: 16px"></div>
    </div>
    <div style="width: calc(100% - 32px);">
      <p>Content</p>
    </div>
  </div> -->
  <!-- stop -->

  <div id="maps" onclick="tapWindow(document.getElementById('maps'))"
    style="align-items: center; border: 1px solid black; border-radius: 16px; background-color: #fff; overflow: hidden; width: 750px; position: absolute; justify-content: center; flex-direction: column; display: none">
    <div id="mapshandle"
      style="display: flex; align-items: center; background-color: #F6F6F6; border-radius: 16px 16px 0px 0px; justify-content: space-between; width: 100%">
      <div onclick="closeElement(document.getElementById('maps'))"
        style="cursor: pointer; height: 16px; width: 16px; background-color: red; border-radius: 16px; margin-left: 16px">
      </div>
      <p>Maps</p>
      <div style="height: 16px; width: 16px; border-radius: 16px; margin-right: 16px"></div>


    </div>
    <div style="width: 100%; height: 400px;">
      <div id="map"></div>

    </div>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

    <script>
      // Initialize the map
      var map = L.map('map').fitWorld().zoomIn(1);

      // Add the tile layer
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors'
      }).addTo(map);

      // Add a marker
      function createCustomMarker(latitude, longitude, imageURL, caption) {
        // Create a custom DivIcon
        var customIcon = L.divIcon({
          className: 'custom-marker-icon',
          html: '<div style="position: relative;">' +
            '<img style="height: 24px; width: 24px; border: 2px solid red; position: relative; border-radius: 16px; object-fit: cover;left: -4px; z-index: 1" src="' + imageURL + '" class="marker-image-bottom">' +
            '<img style="height: 48px; width: 48px; position: relative; bottom: 0; right: 16px;" src="https://cloud-jdx6xxsfn-hack-club-bot.vercel.app/0droppoint.png" class="marker-image">' +
            '</div>'
        });

        // Create a marker with the custom icon
        var marker = L.marker([latitude, longitude], {icon: customIcon});

        // Create a custom popup
        var popupContent = '<div style="text-align: center;">' +
          '<img style="max-height: 126px; border-radius: 16px; object-fit: cover;" src="' + imageURL + '">' +
          `<p style="margin: 2px 0; text-align: left;">${caption}</p>` +
          '</div>';

        // Bind the popup to the marker
        marker.bindPopup(popupContent);

        marker.addTo(map);

      }
      createCustomMarker(34.9482, -81.9301, 'https://cloud-gelhtq1fq-hack-club-bot.vercel.app/0screenshot_2023-06-12_at_4.15.00_pm.png', 'Dieter, Parker, Tyler, and I organized Carolina Hacks, the first student-led Hackathon for high schoolers in South Carolina. We had a blast! <br/><br/>Checkout our <a href="https://drive.google.com/file/d/1gOpYcsQk7mf2ETHbtHarUdKUDJAMFL-w/view?usp=drive_link">Carolina Hacks Documentary</a>');
      createCustomMarker(28.4595, 77.0266, 'https://cloud-6i5n6oo28-hack-club-bot.vercel.app/0screenshot_2023-06-13_at_10.33.44_am.png', 'Epoch was awesome! I met so many awesome people (including my team mates: Arpan and Vaishnavi). We built an AI-powered pickup line generator. <br/><br/>Epoch Documentary <a href="https://youtu.be/KLx4NZZPzMc">Epoch Documentary</a>');
      createCustomMarker(42.3601, -71.0589, 'https://cloud-eakdz9j3y-hack-club-bot.vercel.app/0image.png', 'I really enjoyed Angel Hacks. At Angel Hacks, we built an AI college admissions simulator, funded by Elon Musk. It is free, but students give 10 % of lifetime income.It also costs the user $250, 000 for every student they accept <br/> <br/>Checkout the <a href="https://youtu.be/KLx4NZZPzMc"> Angel Hacks Documentary</a> ');

      marker.addTo(map);
    </script>
  </div>

  <div id="contact" onclick="tapWindow(document.getElementById('contact'))"
    style="align-items: center; border: 1px solid black; border-radius: 16px; background-color: #fff; width: 500px; position: absolute; justify-content: center; flex-direction: column; display: none">
    <div id="contacthandle"
      style="display: flex; align-items: center; background-color: #F6F6F6; border-radius: 16px 16px 0px 0px; justify-content: space-between; width: 100%">
      <div onclick="closeElement(document.getElementById('contact'))"
        style="cursor: pointer; height: 16px; width: 16px; background-color: red; border-radius: 16px; margin-left: 16px">
      </div>
      <p>Message Karthick</p>
      <div style="height: 16px; width: 16px; border-radius: 16px; margin-right: 16px"></div>
    </div>
    <div style="width: calc(100% - 32px);">
      <div id="chat">
        <p class="karthick_message">
            Hey there! üëãüèΩ, welcome to my inbox. I'm excited to hear from you!
        </p>
        <p class="thomas_message">You can send texts here & they'll ping on my phone instantly</p>
        <p class="thomas_message">Feel free to also send me an email at <a href="mailto: karthick@aigenie.biz"
            style="color: #00eaff">karthick@aigenie.biz</a> (for Aigenie/Work related 
          purposes) or
          <a style="color: #00eaff" href="mailto: karthickarun2009@gmail.com">karthickarun2009@gmail.com</a> (for all other personal
          purposes)    
        </p>
      </div>

      <div
        style="flex-direction: row; align-items: center; margin-bottom: 16px; justify-content: space-between; display: flex;">
        <input type="text" id="messageInput" onchange="awaitingResponse = false"
          style="padding: 6px 10px; width: calc(100%); border: 1px solid #ccc; border-radius: 4px; font-size: 14px; outline: none; vertical-align: middle;" />
        <div
          style="display: flex; align-items: center; justify-content: center; font-size: 14px; margin-left: 16px; outline: none;">
          <p style="margin: 0; cursor: pointer; color: #CE41FF" onclick="sendMessage()">Send</p>

        </div>
      </div>

    </div>
  </div>

  <div id="projects" onclick="tapWindow(document.getElementById('projects'))"
    style="align-items: center; border: 1px solid black; border-radius: 16px; background-color: #fff; width: 512px; position: absolute; justify-content: center; flex-direction: column; display: none">
    <div id="projectshandle"
      style="display: flex; align-items: center; background-color: #F6F6F6; border-radius: 16px 16px 0px 0px; justify-content: space-between; width: 100%">
      <div onclick="closeElement(document.getElementById('projects'))"
        style="cursor: pointer; height: 16px; width: 16px; background-color: red; border-radius: 16px; margin-left: 16px">
      </div>
      <p>Projects</p>
      <div style="height: 16px; width: 16px; border-radius: 16px; margin-right: 16px"></div>
    </div>

    <div id="icon-container"
      style="display: grid; max-height: 600px; padding-left: 16px; padding-right: 16px; padding-top: 16px; padding-bottom: 16px; overflow-y: scroll; grid-template-columns: repeat(1, 1fr); gap: 0px;">

      <script>
        // Your array of objects
        const icons = [
          {
            id: "Countdown",
            imgSrc: "https://e2009.s3.us-west-1.amazonaws.com/My+project-1+(70).png",
            title: "Last Day of School Countdown",
            description: "A little mini HTML project i did one friday in 8th grade for fun + its completely ad free",
            links: [
              {
                title: "Project URL",
                target: "_blank",
                url: "https://e2009.s3.us-west-1.amazonaws.com/countdown.html"
              }
            ]
          },
          {
            id: "TeenTalk",
            imgSrc: "https://e2009.s3.us-west-1.amazonaws.com/Logo+design.png",
            title: "TeenTalk",
            description: "A streamlit app i coded using chatgpt ai to help teens going through a rough time",
            links: [
              {
                title: "Video Demo",
                target: "_blank",
                url: "https://youtu.be/oHeirDrAqgU?si=mMA41F-FejeJxCf5"
              },
              {
                title: "Project URL",
                target: "_blank",
                url: "https://teentalk.streamlit.app/"
              }
            ]
          }
        ];



        const iconContainer = document.getElementById('icon-container');

        icons.forEach(icon => {
          const divWrapper = document.createElement('div');
          const divHeading = document.createElement('div');

          const divIcon = document.createElement('div');
          const img = document.createElement('img');
          const p = document.createElement('p');
          const description = document.createElement('p');
          const linksContainer = document.createElement('div'); // Container for links/buttons

          divHeading.style.cssText = "display: flex; flex-direction: row; align-items: center; gap: 8px;";

          divWrapper.style.cssText = "align-items: center; background-color: #F6F6F6; border-radius: 16px; margin-bottom: 16px; padding: 16px; display: flex; flex-direction: column;";
          img.style.cssText = "height: 48px; width: 48px; border-radius: 16px; margin: 0px;";
          p.style.cssText = "margin: 0px; padding: 0px; font-size: 16px; margin-top: 4px; font-weight: 500; color: #000;";
          description.style.cssText = "margin-top: 8px; margin-bottom: 0px;";
          linksContainer.style.cssText = "display: flex; gap: 8px; align-items: left; justify-content: start; width: 100%; margin-top: 8px;";

          divIcon.id = icon.id;
          img.src = icon.imgSrc;
          p.textContent = icon.title;
          description.textContent = icon.description;

          divHeading.appendChild(img);
          divHeading.appendChild(p);
          divIcon.appendChild(divHeading);

          divIcon.appendChild(description);

          divWrapper.appendChild(divIcon);
          divWrapper.appendChild(linksContainer); // Append links container to the wrapper

          icon.links.forEach(link => {
            const linkButton = document.createElement('a');
            linkButton.href = link.url;
            linkButton.textContent = link.title;
            linkButton.style.cssText = "display: inline-block; padding: 6px 12px; background-color: #4E75FF; color: #fff; border-radius: 16px; text-decoration: none;";

            linksContainer.appendChild(linkButton); // Append link button to the links container
          });

          iconContainer.appendChild(divWrapper);
        });


      </script>

    </div>
  </div>


  <div id="aboutMe" onclick="tapWindow(document.getElementById('aboutMe'))"
    style="align-items: center; border: 1px solid black; border-radius: 16px; background-color: #fff; width: 500px; position: absolute; justify-content: center; flex-direction: column; display: none">
    <div id="aboutMehandle"
      style="display: flex; align-items: center; background-color: #F6F6F6; border-radius: 16px 16px 0px 0px; justify-content: space-between; width: 100%">
      <div onclick="closeElement(document.getElementById('aboutMe'))"
        style="cursor: pointer; height: 16px; width: 16px; background-color: red; border-radius: 16px; margin-left: 16px">
      </div>
      <p>aboutMe.txt</p>
      <div style="height: 16px; width: 16px; border-radius: 16px; margin-right: 16px"></div>
    </div>
    <div style="font-family: Courier; width: calc(100% - 32px);">


      <p style="outline: none;" contenteditable="true">Hello world, üëã
        </br>
        </br>

        <img src="https://e2009.s3.us-west-1.amazonaws.com/Photo+4693.gif"
          style="width: 350px; border-radius: 16px" />
        </br>
        </br>

        I am a <span id="age"></span> year old hacker and coder from Gilbert Arizona üèúÔ∏è, USA üá∫üá∏. I have worked on alot of side projects (you'll find it in the projects app)
        </br>
        </br>
        I've neglected creating a personal website because I've found them to be mundane and self-obsessed. I am now
        meeting a lot of people, so I
        developed KarthickOS to provide a snapshot of <i>"Who Karthick Is"</i> without feeling like an ad.
        </br>
        </br>
        Explore the site to
        get to know me a bit & let's chat
        soon!

      </p>
    </div>
  </div>
  <div id="welcome" onclick="tapWindow(document.getElementById('welcome'))"
    style="justify-content: center; align-items: center; display: flex; flex-direction: column; border: 1px solid black; padding: 16px; border-radius: 16px; background-color: #fff; position: absolute; z-index: 1;">
    <div style="justify-content: start; display: flex; align-items: left; width: 100%">

    </div>
    <img style="height: 96px; width: 96px; border-radius: 64px; object-fit: cover;"
        src="https://e2009.s3.us-west-1.amazonaws.com/pfp(SS)-2.png" />
    <div style="margin: 8;  text-align: center;">
      <h1>KarthickOS</h1>
      <p style="text-align: center; margin: 0">
        A Web Operating System which is kinda like my portfolio
        <br />
        developed by <a href="https://github.com/aicoder2009" target="_blank">Karthick Arun</a>
      </p>
      <div style="width: 100%; justify-content: center; display: flex; align-items: center;">
        <p onclick="closeElement(document.getElementById('welcome'))"
          style="text-align: center; width: fit-content; padding: 8px 16px; border-radius: 24px; color: blue; cursor: pointer; border: 1px solid transparent; transition: border-color 0.3s ease; margin-bottom: 0px;"
          onmouseover="this.style.borderColor = 'blue';" onmouseout="this.style.borderColor = 'transparent';">
          Make go away
        </p>
      </div>

    </div>

  </div>
  <script>
    var selectedIcon = null
    var topIndex = 3
    var awaitingResponse = false
    function sendMessage() {
      if (!awaitingResponse) {
        var messageContent = document.getElementById("messageInput").value
        // Create a new <p> element
        var paragraph = document.createElement('p');

        // Set the text content of the <p> element
        paragraph.textContent = messageContent


        // Find the target div by its ID
        var targetDiv = document.getElementById('chat');
        paragraph.classList.add("my_message")

        // Append the <p> element to the target div
        targetDiv.appendChild(paragraph);
        awaitingResponse = true
        sendSMS(messageContent)


      }

    }
    function toggleMusic() {
      var video = document.getElementById("videoElement");
      var musicToggle = document.getElementById("musicToggle");

      if (video.muted) {
        video.muted = false;
        video.style.display = "block";
        video.play(); // Play the video
        musicToggle.textContent = "Mute Music";
      } else {
        video.muted = true;
        video.style.display = "none";
        musicToggle.textContent = "Play Music";
      }
    }




    function tapWindow(elmnt) {
      elmnt.style.zIndex = topIndex++;
    }

    function openIcon(name) {
      if (selectedIcon == document.getElementById(name + "Icon")) {
        openElement(document.getElementById(name))
        map.invalidateSize()
        selectedIcon = null
        document.getElementById(name + "Icon").style.backgroundColor = "rgba(85, 166, 241, 0.0)";
        dragElement(document.getElementById(name));

      } else {
        if (selectedIcon) {
          selectedIcon.style.backgroundColor = "rgba(85, 166, 241, 0.0)"
        }
        selectedIcon = document.getElementById(name + "Icon")
        document.getElementById(name + "Icon").style.backgroundColor = "rgba(85, 166, 241, 0.6)";



        selectedIcon = document.getElementById(name + "Icon")
        document.getElementById(name + "Icon").style.backgroundColor = "rgba(85, 166, 241, 0.6)";
      }
    }

    function openElement(elmnt) {

      elmnt.style.display = 'flex';
      elmnt.style.zIndex = topIndex++;

    }
    function closeElement(elmnt) {
      elmnt.style.display = 'none'
    }

    // Make the DIV element draggable:
    dragElement(document.getElementById("welcome"));

    function dragElement(elmnt) {
      var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
      if (document.getElementById(elmnt.id + "handle")) {
        // if present, the header is where you move the DIV from:
        document.getElementById(elmnt.id + "handle").onmousedown = dragMouseDown;
      } else {
        // otherwise, move the DIV from anywhere inside the DIV:
        elmnt.onmousedown = dragMouseDown;
      }

      function getAge() {
        const currentDate = new Date();
        const targetDate = new Date("2009-03-02"); // Replace with your target date in the format "YYYY-MM-DD"
        const differenceMs = currentDate - targetDate;
        const millisecondsPerYear = 365.25 * 24 * 60 * 60 * 1000;
        const yearsWithDecimals = (differenceMs / millisecondsPerYear).toFixed(5);
        document.getElementById("age").textContent = yearsWithDecimals
        console.log("age here")
      }
      getAge()
      function dragMouseDown(e) {
        e = e || window.event;
        e.preventDefault();
        // get the mouse cursor position at startup:
        pos3 = e.clientX;
        pos4 = e.clientY;
        document.onmouseup = closeDragElement;
        // call a function whenever the cursor moves:
        document.onmousemove = elementDrag;
      }

      function elementDrag(e) {
        e = e || window.event;
        e.preventDefault();
        // calculate the new cursor position:
        pos1 = pos3 - e.clientX;
        pos2 = pos4 - e.clientY;
        pos3 = e.clientX;
        pos4 = e.clientY;
        // set the element's new position:
        elmnt.style.zIndex = topIndex++;

        elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
        elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
      }

      function closeDragElement() {
        // stop moving when mouse button is released:
        document.onmouseup = null;
        document.onmousemove = null;
      }
    }
    function setDate() {
      var timeElement = document.getElementById("time");
      timeElement.innerText = new Date().toLocaleString();
      setTimeout(setDate, 1000); // Update the time every second
    }

    setDate();


    function sendSMS(messageBody) {
      const fs = require('fs');
      const toml = require('toml');

      const config = toml.parse(fs.readFileSync('./config.toml', 'utf-8'));

      const AWS = require('aws-sdk');
      const region = 'us-west-1'; // Replace with your desired AWS region
      const phoneNumber = '+3103408584'; // Replace with the destination phone number

      AWS.config.update({ region, accessKeyId: config.aws.accessKeyId, secretAccessKey: config.aws.secretAccessKey });

      const sns = new AWS.SNS();

      const params = {
        Message: messageBody,
        PhoneNumber: phoneNumber
      };

      sns.publish(params, (err, data) => {
        if (err) {
          console.error('Error:', err);
        } else {
          console.log('Message sent successfully:', data);
        }
      });
    }
</body>
</html>